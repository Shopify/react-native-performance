"use strict";(self.webpackChunkreact_native_performance=self.webpackChunkreact_native_performance||[]).push([[785],{3905:function(e,t,a){a.d(t,{Zo:function(){return l},kt:function(){return f}});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function c(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var s=n.createContext({}),p=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},l=function(e){var t=p(e.components);return n.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,l=c(e,["components","mdxType","originalType","parentName"]),m=p(a),f=r,u=m["".concat(s,".").concat(f)]||m[f]||d[f]||i;return a?n.createElement(u,o(o({ref:t},l),{},{components:a})):n.createElement(u,o({ref:t},l))}));function f(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=a.length,o=new Array(i);o[0]=m;var c={};for(var s in t)hasOwnProperty.call(t,s)&&(c[s]=t[s]);c.originalType=e,c.mdxType="string"==typeof e?e:r,o[1]=c;for(var p=2;p<i;p++)o[p]=a[p];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}m.displayName="MDXCreateElement"},3059:function(e,t,a){a.r(t),a.d(t,{assets:function(){return l},contentTitle:function(){return s},default:function(){return f},frontMatter:function(){return c},metadata:function(){return p},toc:function(){return d}});var n=a(7462),r=a(3366),i=(a(7294),a(3905)),o=["components"],c={id:"getting-started",title:"Getting started",slug:"/guides/react-native-performance-navigation/getting-started"},s=void 0,p={unversionedId:"guides/react-native-performance-navigation/getting-started",id:"guides/react-native-performance-navigation/getting-started",title:"Getting started",description:"@shopify/react-native-performance-navigation package is a companion to the react-native-performance.",source:"@site/docs/guides/react-native-performance-navigation/getting-started.md",sourceDirName:"guides/react-native-performance-navigation",slug:"/guides/react-native-performance-navigation/getting-started",permalink:"/react-native-performance/docs/guides/react-native-performance-navigation/getting-started",editUrl:"https://github.com/shopify/react-native-performance/edit/main/docs/docs/guides/react-native-performance-navigation/getting-started.md",tags:[],version:"current",frontMatter:{id:"getting-started",title:"Getting started",slug:"/guides/react-native-performance-navigation/getting-started"},sidebar:"tutorialSidebar",previous:{title:"Flipper",permalink:"/react-native-performance/docs/guides/flipper-react-native-performance"},next:{title:"Simplified Navigation Profiling",permalink:"/react-native-performance/docs/guides/react-native-performance-navigation/profiling-navigation"}},l={},d=[{value:"Installation",id:"installation",level:2},{value:"ReactNavigationPerformanceView",id:"reactnavigationperformanceview",level:3}],m={toc:d};function f(e){var t=e.components,a=(0,r.Z)(e,o);return(0,i.kt)("wrapper",(0,n.Z)({},m,a,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"@shopify/react-native-performance-navigation")," package is a companion to the ",(0,i.kt)("a",{parentName:"p",href:"../../fundamentals/getting-started"},"react-native-performance"),"."),(0,i.kt)("p",null,"It contains some additional higher-order profilers that we anticipate most apps would find helpful, as well as ",(0,i.kt)("inlineCode",{parentName:"p"},"ReactNavigationPerformanceView"),", built on top of vanilla ",(0,i.kt)("inlineCode",{parentName:"p"},"PerformanceMeasureView")," with the addition of optimizations for ",(0,i.kt)("a",{parentName:"p",href:"https://reactnavigation.org/"},"React Navigation library"),"."),(0,i.kt)("p",null,"This package has two goals:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Provide utilities that are directly consumable by apps, or"),(0,i.kt)("li",{parentName:"ul"},"Provide code references showcasing how one can build custom profilers on top of the foundational blocks provided by ",(0,i.kt)("inlineCode",{parentName:"li"},"react-native-performance"),".",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"If your app uses a different version of a peer dependency as declared by this package, you can adapt the provided implementations to work for you until you can migrate.")))),(0,i.kt)("p",null,"Note that there are additional helper packages to be used with the ",(0,i.kt)("a",{parentName:"p",href:"https://reactnavigation.org/"},"React Navigation library"),":"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/react-native-performance/docs/guides/react-native-performance-navigation/react-native-performance-navigation-drawer"},"react-native-performance-navigation-drawer")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/react-native-performance/docs/guides/react-native-performance-navigation/react-native-performance-navigation-bottom-tabs"},"react-native-performance-navigation-bottom-tabs"))),(0,i.kt)("h2",{id:"installation"},"Installation"),(0,i.kt)("p",null,"You can install the package by running the following command:"),(0,i.kt)("div",{className:"shiki-twoslash-fragment"},(0,i.kt)("pre",{parentName:"div",className:"shiki min-light",style:{backgroundColor:"#ffffff",color:"#24292eff"}},(0,i.kt)("div",{parentName:"pre",className:"language-id"},"bash"),(0,i.kt)("div",{parentName:"pre",className:"code-container"},(0,i.kt)("code",{parentName:"div"},(0,i.kt)("div",{parentName:"code",className:"line"},(0,i.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"$ yarn add @shopify/react-native-performance-navigation"))))),(0,i.kt)("pre",{parentName:"div",className:"shiki nord",style:{backgroundColor:"#2e3440ff",color:"#d8dee9ff"}},(0,i.kt)("div",{parentName:"pre",className:"language-id"},"bash"),(0,i.kt)("div",{parentName:"pre",className:"code-container"},(0,i.kt)("code",{parentName:"div"},(0,i.kt)("div",{parentName:"code",className:"line"},(0,i.kt)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"$ yarn add @shopify/react-native-performance-navigation")))))),(0,i.kt)("p",null,"Note that this package has the following peer dependencies that should be listed in your app's package.json:"),(0,i.kt)("div",{className:"shiki-twoslash-fragment"},(0,i.kt)("pre",{parentName:"div",className:"shiki min-light",style:{backgroundColor:"#ffffff",color:"#24292eff"}},(0,i.kt)("div",{parentName:"pre",className:"language-id"},"bash"),(0,i.kt)("div",{parentName:"pre",className:"code-container"},(0,i.kt)("code",{parentName:"div"},(0,i.kt)("div",{parentName:"code",className:"line"},(0,i.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"$ yarn add @react-navigation/core @react-navigation/stack @react-navigation/native @shopify/react-native-performance"))))),(0,i.kt)("pre",{parentName:"div",className:"shiki nord",style:{backgroundColor:"#2e3440ff",color:"#d8dee9ff"}},(0,i.kt)("div",{parentName:"pre",className:"language-id"},"bash"),(0,i.kt)("div",{parentName:"pre",className:"code-container"},(0,i.kt)("code",{parentName:"div"},(0,i.kt)("div",{parentName:"code",className:"line"},(0,i.kt)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"$ yarn add @react-navigation/core @react-navigation/stack @react-navigation/native @shopify/react-native-performance")))))),(0,i.kt)("h3",{id:"reactnavigationperformanceview"},"ReactNavigationPerformanceView"),(0,i.kt)("p",null,"As mentioned before, ",(0,i.kt)("inlineCode",{parentName:"p"},"ReactNavigationPerformanceView")," acts as a replacement for ",(0,i.kt)("inlineCode",{parentName:"p"},"PerformanceMeasureView")," to be used along with ",(0,i.kt)("inlineCode",{parentName:"p"},"react-navigation"),". Its API is the same, however, it has a new render pass called ",(0,i.kt)("inlineCode",{parentName:"p"},"transition-end")," and influences when ",(0,i.kt)("inlineCode",{parentName:"p"},"interactive")," is set to true.\nWhenever there is a navigation transition between screen A and screen B, ",(0,i.kt)("inlineCode",{parentName:"p"},"ReactNavigationPerformanceView")," ensures that screen B is not marked as ",(0,i.kt)("inlineCode",{parentName:"p"},"interactive")," until the transition has been successfully completed - this is because the destination screen is not interactive during the transition itself.\nAfter the end of the transition, you will see another render pass event with a name of ",(0,i.kt)("inlineCode",{parentName:"p"},"transition-end"),". With this event, the screen can also be considered ",(0,i.kt)("inlineCode",{parentName:"p"},"interactive")," (but it does not have to, depending on your use case)."))}f.isMDXComponent=!0}}]);